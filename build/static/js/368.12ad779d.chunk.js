"use strict";(self.webpackChunkreact_todo_app=self.webpackChunkreact_todo_app||[]).push([[368],{368:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var o=a(43),d=a(715),n=a(579);const s=(0,o.lazy)((e=>a.e(990).then(a.bind(a,990)))),r=e=>{const t=(0,d.k3)();return(0,n.jsx)("div",{className:"todos",children:t.map(((e,t)=>(0,n.jsx)(o.Suspense,{fallback:(0,n.jsx)("div",{style:{padding:"20px",color:"#fff",fontWeight:"bold",fontSize:".8em"},children:"Loading Component ....."}),children:(0,n.jsx)(s,{todo:e},t)},t)))})};var i=a(285),c=a(863);const l=e=>{const[t,a]=(0,o.useState)(""),s=(0,d.ST)();c.s.on("message",(e=>{window.location.reload()}));return(0,n.jsx)("div",{className:"add-form",children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault();const o={id:Math.floor(1e5*Math.random()),content:t,editing:!1};i.$.post(o).then((e=>{s({type:"todo/add",todo:e})})).then((e=>{c.s.emit("message","")})),a("")},children:[(0,n.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"digit an item here"}),(0,n.jsx)("button",{type:"submit",style:{marginLeft:"5px"},children:"add"})]})})},p=e=>(0,n.jsx)("div",{className:"content",children:(0,n.jsxs)(d.aY,{children:[(0,n.jsx)(r,{}),(0,n.jsx)(l,{})]})}),u=e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p,{})})},285:(e,t,a)=>{a.d(t,{$:()=>n});var o=a(154);const d="https://nodejs-mongodb-api-server-26f5f136cf92.herokuapp.com/todos",n={getAll:async()=>(await o.A.get(d)).data,post:async e=>(await o.A.post(d,e)).data,update:async e=>(await o.A.patch(d+"/"+e.id,e)).data,delete:async e=>(await o.A.delete(d+"/"+e.id)).data}},715:(e,t,a)=>{a.d(t,{ST:()=>p,aY:()=>c,k3:()=>l});var o=a(43),d=a(285),n=a(579);const s=(0,o.createContext)(),r=(0,o.createContext)(),i=(e,t)=>{let{type:a,todo:o}=t;switch(a){case"todo/init":return[...o];case"todo/add":return[...e,o];case"todo/delete":return e.filter((e=>e.id!==o.id));case"todo/update":return e.map((e=>e.id===o.id?{...e,...o}:{...e}));default:return e}},c=e=>{let{children:t}=e;const[a,c]=(0,o.useReducer)(i,[]);return(0,o.useEffect)((e=>{d.$.getAll().then((e=>{c({type:"todo/init",todo:e})}))}),[]),(0,n.jsx)(s.Provider,{value:a,children:(0,n.jsx)(r.Provider,{value:c,children:t})})},l=e=>(0,o.useContext)(s),p=e=>(0,o.useContext)(r)},863:(e,t,a)=>{a.d(t,{s:()=>o});const o=(0,a(749).io)("https://nodejs-mongodb-api-server-26f5f136cf92.herokuapp.com")}}]);
//# sourceMappingURL=368.12ad779d.chunk.js.map