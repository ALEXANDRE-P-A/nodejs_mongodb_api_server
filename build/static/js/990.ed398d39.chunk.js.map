{"version":3,"file":"static/js/990.ed398d39.chunk.js","mappings":"4LAKA,MA+DA,EA/DaA,IAAe,IAAd,KAAEC,GAAMD,EAEpB,MAAQE,EAAgBC,IAAsBC,EAAAA,EAAAA,UAASH,EAAKI,SACtDC,GAAWC,EAAAA,EAAAA,MAEjBC,EAAAA,EAAOC,GAAG,WAAWC,IACnBC,OAAOC,SAASC,QAAQ,IAgC1B,OACEC,EAAAA,EAAAA,MAAA,OAAqBC,UAAU,OAAMC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UACEC,KAAK,SACLC,QAjCWT,IACfU,EAAAA,EAAQC,OAAOpB,GACdqB,MAAKZ,IACJJ,EAAS,CAAEY,KAAM,cAAejB,QAAO,IAExCqB,MAAKZ,IACJF,EAAAA,EAAOe,KAAK,UAAW,GAAG,GAC1B,EA0BsBP,SACrB,cACDC,EAAAA,EAAAA,KAAA,QACEF,UAAU,sBACVS,SAAWC,GAnBKA,KACpBA,EAAEC,iBACF,MAAMC,EAAU,IAAK1B,EAAMI,QAASH,EAAgB0B,SAAU3B,EAAK2B,SACnER,EAAAA,EAAQS,OAAOF,GACdL,MAAKQ,IACJxB,EAAS,CAAEY,KAAM,cAAejB,KAAM6B,GAAW,IAChDR,MAAKZ,IACNF,EAAAA,EAAOe,KAAK,UAAW,GAAG,GAC1B,EAWkBQ,CAAcN,GAAIT,SAGhCf,EAAK2B,SACDX,EAAAA,EAAAA,KAAA,SACCC,KAAK,OACLc,MAAQ9B,EACR+B,SAAWR,GAAKtB,EAAkBsB,EAAES,OAAOF,OAC3CG,MAAO,CAAEC,WAAY,UAEtBnB,EAAAA,EAAAA,KAAA,QAAMoB,cArCI3B,IACpB,MAAMiB,EAAU,IAAK1B,EAAM2B,SAAU3B,EAAK2B,SAC1CR,EAAAA,EAAQS,OAAOF,GACdL,MAAKQ,IACJxB,EAAS,CAAEY,KAAM,cAAejB,KAAM6B,GAAW,GACjD,EAgC6Cd,SAAGf,EAAKI,cAjB5CJ,EAAKqC,GAoBV,C","sources":["components/Item.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useTodoDispatch } from \"../context/TodoContext.js\";\r\nimport { todoApi } from \"../TodoInit/TodoInit.js\";\r\nimport { socket } from \"../socket.js\";\r\n\r\nconst Item = ({ todo }) => {\r\n\r\n  const [ editingContent, setEditingContent ] = useState(todo.content);\r\n  const dispatch = useTodoDispatch();\r\n\r\n  socket.on(\"message\", _ => {\r\n    window.location.reload();\r\n  });\r\n\r\n  const complete = _ => {\r\n    todoApi.delete(todo)\r\n    .then(_ => {\r\n      dispatch({ type: \"todo/delete\", todo });\r\n    })\r\n    .then(_ => {\r\n      socket.emit(\"message\", \"\");\r\n    });\r\n  };\r\n\r\n  const toggleEditing = _ => {\r\n    const newTodo = { ...todo, editing: !todo.editing }\r\n    todoApi.update(newTodo)\r\n    .then(response => {\r\n      dispatch({ type: \"todo/update\", todo: response });\r\n    });\r\n  };\r\n\r\n  const confirmUpdate = e => {\r\n    e.preventDefault();\r\n    const newTodo = { ...todo, content: editingContent, editing: !todo.editing };\r\n    todoApi.update(newTodo)\r\n    .then(response => {\r\n      dispatch({ type: \"todo/update\", todo: response });\r\n    }).then(_ => {\r\n      socket.emit(\"message\", \"\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div key={ todo.id } className=\"todo\">\r\n      <button \r\n        type=\"button\"\r\n        onClick={ complete }\r\n      >complete</button>\r\n      <form\r\n        className=\"update-content-form\"\r\n        onSubmit={ e => confirmUpdate(e) }\r\n      >\r\n        {\r\n          todo.editing \r\n            ? <input\r\n               type=\"text\"\r\n               value={ editingContent }\r\n               onChange={ e => setEditingContent(e.target.value) }\r\n               style={{ marginLeft: \"5px\" }}\r\n              />\r\n            : <span onDoubleClick={ toggleEditing }>{ todo.content }</span>\r\n        }\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Item;"],"names":["_ref","todo","editingContent","setEditingContent","useState","content","dispatch","useTodoDispatch","socket","on","_","window","location","reload","_jsxs","className","children","_jsx","type","onClick","todoApi","delete","then","emit","onSubmit","e","preventDefault","newTodo","editing","update","response","confirmUpdate","value","onChange","target","style","marginLeft","onDoubleClick","id"],"sourceRoot":""}